<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<!-- google analytics -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="twitter:card" content="summary_large_image">
	<meta prefix="og: http:/ogp.me/ns#" property="og:title" content="NYC Wheelchair Friendly Restaurant Locator">
	<meta prefix="og: http:/ogp.me/ns#" property="og:type" content="website">
	<meta prefix="og: http:/ogp.me/ns#" property="og:url" content="https://maps.nyc.gov/accessible-restaurant/">
	<meta prefix="og: http:/ogp.me/ns#" property="og:image" content="https://maps.nyc.gov/accessible-restaurant/img/og.png">
	<meta prefix="og: http:/ogp.me/ns#" property="og:image:width" content="1200">
	<meta prefix="og: http:/ogp.me/ns#" property="og:image:height" content="626">
	<meta prefix="og: http:/ogp.me/ns#" property="og:description" content="NYC Wheelchair Friendly Restaurant Locator">
	<meta prefix="og: http:/ogp.me/ns#" property="og:site_name" content="maps.nyc.gov">
	<meta name="google-translate-customization" content="4707bd7f535893a0-45bca7b6a97e5a2d-g609df9381571b349-c">

	<title>NYC Wheelchair Friendly Restaurant Locator</title>

	<link rel="manifest" href="manifest.webmanifest">
	<link rel="apple-touch-startup-image" href="img/icon-512.png">
	<link rel="apple-touch-icon" sizes="60x60" href="img/icon-60.png">
	<link rel="apple-touch-icon" sizes="76x76" href="img/icon-76.png">
	<link rel="apple-touch-icon" sizes="120x120" href="img/icon-120.png">
	<link rel="apple-touch-icon" sizes="152x152" href="img/icon-152.png">
	<link rel="apple-touch-icon" sizes="167x167" href="img/icon-167.png">
	<link rel="apple-touch-icon" sizes="180x180" href="img/icon-180.png">

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-mobile/1.4.5/jquery.mobile.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/openlayers/4.3.2/ol.css">
	<link rel="stylesheet" href="https://maps.nyc.gov/nyc-lib/v0.5.8-SNAPSHOT/css/nyc-ol-lib.css">
	<link rel="stylesheet" href="https://maps.nyc.gov/nyc-lib/v0.5.8-SNAPSHOT/css/nyc-finder.css">
	<link rel="stylesheet" href="css/accessible.css">

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-mobile/1.4.5/jquery.mobile.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/0.8.3/jquery.csv.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.15/proj4.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/openlayers/4.3.2/ol.js"></script>
	<script src="https://maps.nyc.gov/nyc-lib/v0.5.8-SNAPSHOT/js/nyc-ol-lib.js"></script>
	<script src="https://maps.nyc.gov/nyc-lib/v0.5.8-SNAPSHOT/js/nyc-finder.js"></script>
	<script src="https://maps.nyc.gov/go2mta/v0.0.1/js/mtaTripPlannerHack.js"></script>
</head>
<body aria-hidden="true">
	<script>
		loading = new nyc.Loading();
	</script>
	<h1 class="banner">
		<img class="icon"
			width="37"
			height="31"
			src="data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22656%22%20height%3D%22656%22%3E%3Cg%20transform%3D%22translate(-263.86732%2C-69.7075)%22%20style%3D%22fill%3A%23fff%22%3E%3Cpath%20%20d%3D%22M%20833.556%2C367.574%20C%20825.803%2C359.619%20814.97%2C355.419%20803.9%2C356.025%20l%20-133.981%2C7.458%2073.733%2C-83.975%20c%2010.504%2C-11.962%2013.505%2C-27.908%209.444%2C-42.157%20-2.143%2C-9.764%20-8.056%2C-18.648%20-17.14%2C-24.324%20-0.279%2C-0.199%20-176.247%2C-102.423%20-176.247%2C-102.423%20-14.369%2C-8.347%20-32.475%2C-6.508%20-44.875%2C4.552%20l%20-85.958%2C76.676%20c%20-15.837%2C14.126%20-17.224%2C38.416%20-3.097%2C54.254%2014.128%2C15.836%2038.419%2C17.227%2054.255%2C3.096%20l%2065.168%2C-58.131%2053.874%2C31.285%20-95.096%2C108.305%20c%20-39.433%2C6.431%20-74.913%2C24.602%20-102.765%2C50.801%20l%2049.66%2C49.66%20c%2022.449%2C-20.412%2052.256%2C-32.871%2084.918%2C-32.871%2069.667%2C0%20126.346%2C56.68%20126.346%2C126.348%200%2C32.662%20-12.459%2C62.467%20-32.869%2C84.916%20l%2049.657%2C49.66%20c%2033.08%2C-35.166%2053.382%2C-82.484%2053.382%2C-134.576%200%2C-31.035%20-7.205%2C-60.384%20-20.016%2C-86.482%20l%2051.861%2C-2.889%20-12.616%2C154.75%20c%20-1.725%2C21.152%2014.027%2C39.695%2035.18%2C41.422%201.059%2C0.086%202.116%2C0.127%203.163%2C0.127%2019.806%2C0%2036.621%2C-15.219%2038.257%2C-35.306%20l%2016.193%2C-198.685%20c%200.904%2C-11.071%20-3.026%2C-21.989%20-10.775%2C-29.942%20z%22%2F%3E%3Cpath%20%20d%3D%22m%20762.384%2C202.965%20c%2035.523%2C0%2064.317%2C-28.797%2064.317%2C-64.322%200%2C-35.523%20-28.794%2C-64.323%20-64.317%2C-64.323%20-35.527%2C0%20-64.323%2C28.8%20-64.323%2C64.323%200%2C35.525%2028.795%2C64.322%2064.323%2C64.322%20z%22%2F%3E%3Cpath%20d%3D%22m%20535.794%2C650.926%20c%20-69.668%2C0%20-126.348%2C-56.68%20-126.348%2C-126.348%200%2C-26.256%208.056%2C-50.66%2021.817%2C-70.887%20l%20-50.196%2C-50.195%20c%20-26.155%2C33.377%20-41.791%2C75.393%20-41.791%2C121.082%200%2C108.535%2087.983%2C196.517%20196.518%2C196.517%2045.691%2C0%2087.703%2C-15.636%20121.079%2C-41.792%20L%20606.678%2C629.11%20c%20-20.226%2C13.757%20-44.63%2C21.816%20-70.884%2C21.816%20z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E"
			alt="Wheelchair">
		<div class="title">friendly restaurant locator</div>
	</h1>
	<div id="map"></div>
	<div id="splash">
		<div class="content">
			<div class="close">
				<button id="splash-close" hidden="true"></button>
			</div>
			<div class="msg">
				Participating restaurants have self-reported that they are wheelchair friendly because they meet the following requirements:
				<ul>
					<li>Main entrance is flush with sidewalk, there is a ramp, lift or other usable entrance.</li>
					<li>Entrance has opening 32 inches or larger.</li>
					<li>Wheelchair spaces are distributed and level throughout the seating areas.</li>
				</ul>
			</div>
			<button class="screen-reader-only">Continue</button>
		</div>
	</div>
	<div id="cuisine-filter"></div>
	<script>
		$(document).ready(function(){

			new nyc.lang.Goog({
				target: '#map',
				languages: {
				    en: {val: 'English', desc: 'English', hint: 'Translate'},
				    ar: {val: 'Arabic', desc: '&#x627;&#x644;&#x639;&#x631;&#x628;&#x64A;&#x629;', hint: '&#x62A;&#x631;&#x62C;&#x645;'},
				    bn: {val: 'Bengali', desc: '&#x9AC;&#x9BE;&#x999;&#x9BE;&#x9B2;&#x9BF;', hint: '&#x985;&#x9A8;&#x9C1;&#x9AC;&#x9BE;&#x9A6; &#x995;&#x9B0;&#x9BE;'},
				    'zh-CN': {val: 'Chinese (Simplified)', desc: '&#x4E2D;&#x56FD;', hint: '&#x7FFB;&#x8BD1;'},
				    fr: {val: 'French', desc: 'Fran&#231;ais', hint: 'Traduire'},
				    ht: {val: 'Haitian Creole', desc: 'Krey&#242;l Ayisyen', hint: 'Tradui'},
				    ko: {val: 'Korean', desc: '&#xD55C;&#xAD6D;&#xC758;', hint: '&#xBC88;&#xC5ED;'},
				    ru: {val: 'Russian', desc: 'P&#x443;&#x441;&#x441;&#x43A;&#x438;&#x439;', hint: '&#x43F;&#x435;&#x440;&#x435;&#x432;&#x435;&#x441;&#x442;&#x438;'},
				    es: {val: 'Spanish', desc: 'Espa&#241;ol', hint: 'Traducir'},
				    ur: {val: 'Urdu', desc: '&#x627;&#x631;&#x62F;&#x648;', hint: '&#x62A;&#x631;&#x62C;&#x645;&#x6C1; &#x6A9;&#x631;&#x6CC;&#x6BA;'}
				},
				isButton: true
			});

			var map = new nyc.ol.Basemap({target: $('#map').get(0)});

			var geocoder = new nyc.Geoclient(
				'https://maps.nyc.gov/geoclient/v1/search.json?app_key=D01B18C3181D58667&app_id=accessible-restaurant'
			);

			var locationMgr = new nyc.LocationMgr({
				controls: new nyc.ol.control.ZoomSearch(map),
				locate: new nyc.ol.Locate(geocoder),
				locator: new nyc.ol.Locator({map: map})
			});

			var finderSource = new nyc.ol.source.FilteringAndSorting(
				{loader: new nyc.ol.source.CsvPointFeatureLoader({
					url: 'data/facility.csv',
					projection: 'EPSG:2263',
					xCol: 'X',
					yCol: 'Y'
				})}, [finderDecorations],
				{nativeProjection: 'EPSG:2263', projection: 'EPSG:3857'}
			);

			var filterControls = [];
			finderSource.on(nyc.ol.source.Decorating.LoaderEventType.FEATURESLOADED, function(){
				var choices = [];
				for (var cuisine in finderDecorations.cuisineTypes){
					choices.push({
						name: 'CUISINE',
						value: cuisine,
						label: cuisine,
						checked: false
					});
				}
				choices = choices.sort(function(a, b){
					if (a.value < b.value) return -1;
					if (b.value < a.value) return 1;
					return 0;
				});
				filterControls.push(new nyc.Check({
					target: '#cuisine-filter',
					title: 'Cuisine',
					expanded: true,
					choices: choices
				}));
				new nyc.FinderApp({
					map: map,
					finderSource: finderSource,
					filterControls: filterControls,
					locationMgr: locationMgr,
					directionsUrl: 'https://maps.googleapis.com/maps/api/js?sensor=false&libraries=visualization',
					loading: loading
				});
				$('#facility-tab-btn a').html('Restaurants');
				$('#filter-tab-btn a').html('Cuisine');
				$('.z-srch input').attr('placeholder', 'Search for an address or ZIP Code')
			});

			var finderLyr = new ol.layer.Vector({
		    source: finderSource,
		    style: finderStyle
		  });
		  map.addLayer(finderLyr);
			new nyc.ol.FeatureTip(map, [{
		    layer: finderLyr,
		    labelFunction: function(){
			    return {text: this.getName()};
		    }
		  }]);

		});
	</script>
	<script src="js/decoration.js"></script>
	<script src="js/style.js"></script>
</body>
</html>
